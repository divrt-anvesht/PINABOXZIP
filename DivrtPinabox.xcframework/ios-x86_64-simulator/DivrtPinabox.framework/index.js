const _0x262750=_0x4f16;(function(_0x387990,_0x58fc37){const _0x482482=_0x4f16,_0x370200=_0x387990();while(!![]){try{const _0x3be495=parseInt(_0x482482(0x12d))/0x1*(-parseInt(_0x482482(0x13d))/0x2)+-parseInt(_0x482482(0xcd))/0x3+-parseInt(_0x482482(0xc0))/0x4+-parseInt(_0x482482(0x107))/0x5+-parseInt(_0x482482(0x79))/0x6+parseInt(_0x482482(0x125))/0x7+parseInt(_0x482482(0xa8))/0x8;if(_0x3be495===_0x58fc37)break;else _0x370200['push'](_0x370200['shift']());}catch(_0x8309a9){_0x370200['push'](_0x370200['shift']());}}}(_0x2c79,0xf26ed),window['androidObj']=function AndroidClass(){});function include(_0x5f155a){const _0x36d2f7=_0x4f16;var _0x372dd6=document[_0x36d2f7(0x136)](_0x36d2f7(0xd5));_0x372dd6['src']=_0x5f155a,_0x372dd6[_0x36d2f7(0x78)]=_0x36d2f7(0x8f),_0x372dd6['defer']=!![],document['getElementsByTagName'](_0x36d2f7(0xce))[_0x36d2f7(0x15d)](0x0)[_0x36d2f7(0x82)](_0x372dd6);}include(_0x262750(0xbe)),include(_0x262750(0xfb)),include(_0x262750(0x147));const url_hardwareConfig=_0x262750(0xc8),url_openGate=_0x262750(0x161),url_decisionInfo=_0x262750(0x142);let url_base={get 'getURL'(){const _0x436125=_0x262750;if(pinaConfig[_0x436125(0x9e)]==_0x436125(0x92))return'https://pinaboxapi.divrt.co/';else return pinaConfig[_0x436125(0x9e)]==_0x436125(0xac)?'https://meghak2.divrt.co/':_0x436125(0x143);}},loggerURL={get 'getURL'(){const _0x5e4bcc=_0x262750;return pinaConfig['environment']=='PROD'?_0x5e4bcc(0x74):_0x5e4bcc(0x9b);}},pinaConfig,pinaConfigParams,pinaSdkParams,pinaClientParams,pinaMiscParams,getBeaconListResponse,beaconData,nfcData,qrCode,autoSelectMode,garageLocation={},loopData={},loopDetectorMqttTopic,loopDetected=![],bleDetected=![],collectDecisionData=!![],beaconHits=0x0,beaconDistanceGreaterThanRequired=!![],gateDecisionDeltaSec,cancelled=![],gate,scanToButtonGreenDeltaSec,atleastOneBeaconLessThanOneMtr=![],thresholdTimerExecuted=![],gateSelected=![],loopDetectors=[],minGateData=new Map(),maxGateData=new Map(),gateloopData=new Map(),maxDistance,beaconsMap=new Map(),altBeaconsMap=new Map(),beaconId,delta,differentiationDelta,loopDetectorSimulation=0x0,commandId,scanToButtonClickDeltaSec,outcome='',gateForBeacon=new Map(),decisionData={},buttonMode,presentButtonMode='-1',minorId=new Map(),minorIdDebug=new Map(),minDistance=new Map(),lastDistance=new Map(),rangeWeightData=new Map(),rangeData=new Map(),deciTime=new Map(),deciDistance=new Map(),firstDistance=new Map(),firstTime=new Map(),loopValues=[],loopList=[],oneBeacon='X',otherBeacon='X',myLaneLoop='X',otherLaneLoop='X',lane=-0x1,currentLocation={},prevQRMessage='',batteryDataDictionaryArray=[],screenAppearanceTime,proximityDataArray=[],weightDataDict={},logArray=[],debugCount=0x0,logStartTime=0x0,beaconIdPedestrian,loopEnabledTime,bleEnabledTime,firstBleHitTime,techType='BLE',bookingID,uid,gateDatainitialised=![],entrance='',specificationType='',refId;function onClickGateIssues(){const _0x5d6cf9=_0x262750;try{document[_0x5d6cf9(0x87)](_0x5d6cf9(0x7e))[_0x5d6cf9(0x155)][_0x5d6cf9(0xab)]('hide'),document[_0x5d6cf9(0x87)](_0x5d6cf9(0x14d))[_0x5d6cf9(0x155)]['remove'](_0x5d6cf9(0xe9));}catch(_0x359ce6){pushException(_0x5d6cf9(0x109)+_0x359ce6['message']);}}function onClickBackGateIssues(){const _0x45b8d2=_0x262750;try{document[_0x45b8d2(0x87)](_0x45b8d2(0x7e))[_0x45b8d2(0x155)][_0x45b8d2(0xe6)](_0x45b8d2(0xe9)),document[_0x45b8d2(0x87)](_0x45b8d2(0x14d))[_0x45b8d2(0x155)][_0x45b8d2(0xab)](_0x45b8d2(0xe9));}catch(_0xafb1a2){pushException(_0x45b8d2(0x11b)+_0xafb1a2[_0x45b8d2(0x16c)]);}}function onClickPedestrian(){const _0x5ed00e=_0x262750;try{document[_0x5ed00e(0x87)](_0x5ed00e(0x94))[_0x5ed00e(0x155)][_0x5ed00e(0xab)](_0x5ed00e(0xe9)),document['getElementById']('container_pedestrian')['classList'][_0x5ed00e(0xe6)](_0x5ed00e(0xe9));}catch(_0x1efa3f){pushException(_0x5ed00e(0x9c)+_0x1efa3f['message']);}}function onClickBackPedestrian(){const _0x1dfef2=_0x262750;try{document[_0x1dfef2(0x87)](_0x1dfef2(0x94))['classList'][_0x1dfef2(0xe6)](_0x1dfef2(0xe9)),document[_0x1dfef2(0x87)](_0x1dfef2(0xa0))[_0x1dfef2(0x155)]['add'](_0x1dfef2(0xe9));}catch(_0x51e234){pushException('onClickBackPedestrian\x20'+_0x51e234[_0x1dfef2(0x16c)]);}}function showOpenButtonPedestrian(){const _0x49082d=_0x262750;try{document['getElementById']('move_closer_text_pedestrian')['style'][_0x49082d(0x11f)]='#FFFFFF',document[_0x49082d(0x87)](_0x49082d(0xeb))['classList']['remove'](_0x49082d(0xe9));}catch(_0x414d05){pushException('showOpenButtonPedestrian\x20'+_0x414d05[_0x49082d(0x16c)]);}}function hideAwaitingPedestrian(){const _0x28dd38=_0x262750;try{document[_0x28dd38(0x87)]('button_ble_pedestrian')[_0x28dd38(0x155)][_0x28dd38(0xab)](_0x28dd38(0xe9));}catch(_0x4bc9fd){pushException(_0x28dd38(0x16d)+_0x4bc9fd[_0x28dd38(0x16c)]);}}function hideOpenButtonPedestrian(){const _0xdca3ce=_0x262750;try{document[_0xdca3ce(0x87)](_0xdca3ce(0xeb))[_0xdca3ce(0x155)][_0xdca3ce(0xab)]('hide');}catch(_0x1059c0){pushException(_0xdca3ce(0x15c)+_0x1059c0[_0xdca3ce(0x16c)]);}}function showAwaitingPedestrian(){const _0x577ac2=_0x262750;try{document['getElementById'](_0x577ac2(0x7d))[_0x577ac2(0x155)][_0x577ac2(0xe6)](_0x577ac2(0xe9));}catch(_0x389a89){pushException(_0x577ac2(0x16d)+_0x389a89['message']);}}function storeBeaconIdPedestrian(_0x51ef42){beaconIdPedestrian=_0x51ef42;}function onClickBLEButtonPedestrian(){const _0x5110cb=_0x262750;try{openGatePedestrian();}catch(_0xa8fbc9){pushException(_0x5110cb(0xd1)+_0xa8fbc9[_0x5110cb(0x16c)]);}}function openGatePedestrian(){const _0x843370=_0x262750;if(window['navigator'][_0x843370(0x12f)]==![]){alert('No\x20network\x20available.\x20Please\x20check\x20your\x20connection\x20and\x20try\x20again');return;}try{J2N_suspendClick();const _0x144f44=url_base['getURL']+url_openGate;showProgress(!![]),debugLog('openGatePedestrian'),fetch(_0x144f44,{'method':_0x843370(0xaf),'body':JSON['stringify']({'beaconId':beaconIdPedestrian,'pinaConfigParams':pinaConfigParams,'pinaClientParams':pinaClientParams}),'headers':{'Accept':_0x843370(0xed),'Content-Type':'application/json'}})[_0x843370(0xf8)](_0x595f24=>{const _0x25c25f=_0x843370;showProgress(![]),_0x595f24[_0x25c25f(0x13b)]()[_0x25c25f(0xf8)](_0x70581a=>{const _0x5b36f4=_0x25c25f;try{_0x70581a[_0x5b36f4(0xe2)]?(showAwaiting(),hideGateLayout(),hideOpenButton(),onClickBackPedestrian(),onClickBackGateIssues(),document[_0x5b36f4(0x87)](_0x5b36f4(0x9d))[_0x5b36f4(0x134)]='',document['getElementById'](_0x5b36f4(0x108))[_0x5b36f4(0x134)]=_0x5b36f4(0x14f),J2N_postOnInfo(_0x5b36f4(0xe7)),pushLogs()):(J2N_printLog(JSON[_0x5b36f4(0x102)](_0x70581a)),J2N_postOnFailure(JSON[_0x5b36f4(0x102)](_0x70581a)),pushLogs());}catch(_0x67319f){showProgress(![]),debugLog(_0x5b36f4(0xf6)+_0x67319f[_0x5b36f4(0x16c)]),J2N_printLog(_0x5b36f4(0xb3)+_0x67319f[_0x5b36f4(0x16c)]),J2N_postOnFailure(_0x5b36f4(0x151)),pushException(_0x5b36f4(0xd2)+_0x67319f['message']),pushLogs();}});})[_0x843370(0x131)](_0x2de54b=>{const _0x57f69e=_0x843370;showProgress(![]),debugLog(_0x57f69e(0xf6)+_0x2de54b['message']),J2N_printLog(_0x2de54b['message']),J2N_postOnFailure('Failed\x20to\x20open\x20gate.\x20Please\x20try\x20again'),pushException(_0x57f69e(0x156)+_0x2de54b[_0x57f69e(0x16c)]);});}catch(_0x2fd200){showProgress(![]),debugLog(_0x843370(0xf6)+_0x2fd200['message']),J2N_postOnFailure(_0x843370(0x169)),pushException('openGate\x20'+_0x2fd200['message']);}}function onClickBLEButton(){const _0x3fd1eb=_0x262750;try{scanToButtonClickDeltaSec=(Date[_0x3fd1eb(0xcb)]()-scanToButtonClickDelta)/0x3e8;if(gate[_0x3fd1eb(0x11a)](beaconData[_0x3fd1eb(0x85)][_0x3fd1eb(0xef)]['lanesToBeaconList'][0x0][_0x3fd1eb(0x80)])===0x0)takeAction(0x1,gateForBeacon['get'](gate),gate);else{if(beaconData['beaconConfig'][_0x3fd1eb(0xef)][_0x3fd1eb(0x75)][_0x3fd1eb(0x113)]>=0x2&&gate[_0x3fd1eb(0x11a)](beaconData['beaconConfig'][_0x3fd1eb(0xef)][_0x3fd1eb(0x75)][0x1][_0x3fd1eb(0x80)])===0x0)takeAction(0x2,gateForBeacon[_0x3fd1eb(0xe3)](gate),gate);else beaconData[_0x3fd1eb(0x85)][_0x3fd1eb(0xef)][_0x3fd1eb(0x75)]['length']>=0x3&&gate[_0x3fd1eb(0x11a)](beaconData[_0x3fd1eb(0x85)][_0x3fd1eb(0xef)][_0x3fd1eb(0x75)][0x2][_0x3fd1eb(0x80)])===0x0&&takeAction(0x3,gateForBeacon[_0x3fd1eb(0xe3)](gate),gate);}}catch(_0x176d52){pushException(_0x3fd1eb(0xd1)+_0x176d52[_0x3fd1eb(0x16c)]);}}function onClickGate1(){const _0x44d4b5=_0x262750;try{takeAction(0x1,gateForBeacon['get'](beaconData[_0x44d4b5(0x85)][_0x44d4b5(0xef)][_0x44d4b5(0x75)][0x0][_0x44d4b5(0x80)]),beaconData['beaconConfig'][_0x44d4b5(0xef)][_0x44d4b5(0x75)][0x0]['gateID']),scanToButtonClickDeltaSec=(Date[_0x44d4b5(0xcb)]()-scanToButtonClickDelta)/0x3e8;}catch(_0x3b42ac){pushException(_0x44d4b5(0x13e)+_0x3b42ac['message']);}}function onClickGate2(){const _0x3e0948=_0x262750;try{takeAction(0x2,gateForBeacon[_0x3e0948(0xe3)](beaconData['beaconConfig'][_0x3e0948(0xef)]['lanesToBeaconList'][0x1][_0x3e0948(0x80)]),beaconData[_0x3e0948(0x85)][_0x3e0948(0xef)]['lanesToBeaconList'][0x0][_0x3e0948(0x80)]),scanToButtonClickDeltaSec=(Date[_0x3e0948(0xcb)]()-scanToButtonClickDelta)/0x3e8;}catch(_0x4c0c03){pushException('onClickGate2\x20'+_0x4c0c03[_0x3e0948(0x16c)]);}}function onClickGate3(){const _0x593aca=_0x262750;try{takeAction(0x3,gateForBeacon[_0x593aca(0xe3)](beaconData[_0x593aca(0x85)][_0x593aca(0xef)][_0x593aca(0x75)][0x2][_0x593aca(0x80)]),beaconData[_0x593aca(0x85)]['lanesBeaconsMap']['lanesToBeaconList'][0x0][_0x593aca(0x80)]),scanToButtonClickDeltaSec=(Date[_0x593aca(0xcb)]()-scanToButtonClickDelta)/0x3e8;}catch(_0x7ffeda){pushException(_0x593aca(0x12a)+_0x7ffeda[_0x593aca(0x16c)]);}}function onClickMoveForward(){const _0xe738de=_0x262750;try{document[_0xe738de(0x87)](_0xe738de(0x94))[_0xe738de(0x155)]['remove'](_0xe738de(0xe9)),document[_0xe738de(0x87)]('alert')[_0xe738de(0x155)][_0xe738de(0xab)](_0xe738de(0xe9));}catch(_0x1737ad){pushException('onClickMoveForward\x20'+_0x1737ad[_0xe738de(0x16c)]);}}function onClickNFCButton(){J2N_startNFCScan();}function onClickStart(){}function _0x2c79(){const _0x54fcf0=['proximitydata','https://loggerapi.divrt.co/log','lanesToBeaconList','garageLatitude','name','type','5813130EgkGwK','validatePinaConfig\x20','initHardwareConfig\x20','Gate\x20open\x20failure','button_ble_pedestrian','container_main','pushLogs\x20response\x20','gateID','Simulation\x20mode\x20is\x20restricted\x20in\x20Production.\x20Please\x20change\x20DIVRT\x20environment\x20to\x20DEV','appendChild','pinaSdkParams','atan2','beaconConfig','set','getElementById','bleEnabledTime','loopList','showAwaiting\x20','phpMQTT-subscriber','Timer\x20Ended','pinaClientParams','scanToButtonGreenDelta','text/javascript','estimoteCloudDetails','value','PROD','dateDecisionDelta','main_container','demoGarage','bookingID','otherBeacon','NFC','single','parse','https://loggerapi-dev.divrt.co/log','onClickPedestrian\x20','welcome_text','environment','longitude','container_pedestrian','qrData','parking','sequenceLogs','J2N_startLoopScan','4f3765a60e61facd73cf757d1610e8f37be26c97323290971793feaf06b06982','anveshtokala','isPedestrian','44313656DzWehd','simulation_mode','laneMqttTopics','add','TEST','osversion','broker.mqttdashboard.com','POST','Android','loopsList','getHardwareConfiguration','openGatePedestrian\x20failure','~cachedHardWareConfigruation','beaconList','clientId','oneList','flushData\x20','validateNFC\x20','cos','hideOpenButton\x20','tcp://mqtts.divrt.co:1883','serverUri','JSInteractionWrapper.js','techType','2039312vaIcJO','autoSelectMode','gateButtonBgColor','pushLogs\x20','delete','nameValuePairs','zid','getURL','api/v2/getHardwareConfigByZcode','getElementsByClassName','password','now','multi_gate','5361633zeXJZt','head','replace','displayWebViewAndStartSDK\x20','onClickBLEButton\x20','openGatePedestrian\x20response\x20inner','weight','openedGate','script','showProgress\x20','secret_key','divrt://5350504C-5553-434F-5250-4F524154494F/30003/111','pinaJSParams','loopData','simulationMode','startCountDownTimer\x20','takeAction\x20inner\x20','hideAwaiting\x20','time','left_btn','hardwarfalse=','status','get','popupappear','helpText','remove','Thank\x20you\x20for\x20using\x20pedestrian\x20access','firstTime','hide','Thank\x20you\x20for\x20visiting\x20ABC\x20Garage','button_enable_pedestrian','pinaConfigParams','application/json','bearerToken','lanesBeaconsMap','maxDistance','background','getHardwareConfiguration\x20response','style','container','values','openGatePedExcep\x20','loopDetectorMqttTopic','then','latLong.latitude','presentButtonMode','AndroidSpecific.js','https://static.divrt.co/images/pinabox/spp/spplogo.png','loopConfig','gateType','firstBleHitTime','refno','attachment_minor_ids','stringify','PinaTest','appIconImage','action','firstDistance','8208125wnHDcS','move_closer_text','onClickGateIssues\x20','orderId','right_btn','nfcData','multi','latitude','navigator','Wrong\x20code\x20scanned,\x20please\x20try\x20again','beaconId','pinaMiscParams','length','loader','middle_btn','ostype','mqtts.divrt.co','validateHardwareConfig\x20','Hide\x20Awaiting','localeCompare','onClickBackGateIssues\x20','scanToButtonClickDelta','minorID','osTypeVer','color','minimumBeaconThreshold','parking1234','userName','showGateLayout\x20','getHardwareConfiguration\x20','4403973FbuUMm','gate_issues','validateLatLong\x20','deg2rad\x20','lastDistance','onClickGate3\x20','dev','jsversion','133911uZZfHz','onClickQRButton\x20','onLine','This\x20is\x20prebundle\x20JS','catch','refId','buttonMode','innerHTML','uid','createElement','data','divrt-mqtt-dev','otherLaneLoop','push','json','loopEnabled','4vuNHcA','onClickGate1\x20','src','loop0Topic','openGateExcep\x20','api/v2/decisionInfo','https://pinaboxapi-dev.divrt.co/','ranges','minDistance','beaconData','iOSSpecific.js','oneBeacon','No\x20network\x20available.\x20Please\x20check\x20your\x20connection\x20and\x20try\x20again','simulationMode=true','validateLoopData\x20','differentiationDelta','container_gate_issues','hideGateLayout\x20','Move\x20closer\x20to\x20the\x20gate\x20to\x20enter','outcome','Gate\x20open\x20pedestrian\x20failure','version','#FFFFFF','radius','classList','openGate\x20response\x20outer','mqtt_topic','simulation','#F2555C','validateQR\x20','qrConfig','showOpenButtonPedestrian\x20','item','invisible','uniqueID','logo','api/v2/openGate','back_btn','myLaneLoop','entrance_id','~latestHardWareConfigruation','button_ble','pedestrian_flow','openGate','Failed\x20to\x20open\x20gate.\x20Please\x20try\x20again','split','decision_time','message','hideAwaitingPedestrian\x20','email','nList','sin'];_0x2c79=function(){return _0x54fcf0;};return _0x2c79();}function onClickSimulate(){}function onClickQRButton(){const _0x2f6c7c=_0x262750;try{J2N_startQRScan();}catch(_0x2767b6){pushException(_0x2f6c7c(0x12e)+_0x2767b6['message']);}}function showGateLayout(){const _0x15a1c8=_0x262750;try{document[_0x15a1c8(0x87)](_0x15a1c8(0x108))[_0x15a1c8(0xf3)][_0x15a1c8(0x11f)]=_0x15a1c8(0x153),document[_0x15a1c8(0x87)](_0x15a1c8(0xcc))[_0x15a1c8(0x155)]['remove'](_0x15a1c8(0xe9)),document[_0x15a1c8(0x87)]('left_btn')[_0x15a1c8(0x155)][_0x15a1c8(0xe6)]('hide'),document[_0x15a1c8(0x87)](_0x15a1c8(0x10b))['classList'][_0x15a1c8(0xe6)]('hide'),beaconData['beaconConfig'][_0x15a1c8(0xef)][_0x15a1c8(0x75)]['length']>0x2?document[_0x15a1c8(0x87)](_0x15a1c8(0x115))[_0x15a1c8(0x155)][_0x15a1c8(0xe6)]('hide'):document['getElementById'](_0x15a1c8(0x115))[_0x15a1c8(0x155)][_0x15a1c8(0xab)](_0x15a1c8(0xe9)),getBeaconListResponse[_0x15a1c8(0x137)][_0x15a1c8(0xa7)]!=null&&getBeaconListResponse[_0x15a1c8(0x137)][_0x15a1c8(0xa7)][_0x15a1c8(0x11a)]('1')===0x0&&document[_0x15a1c8(0x87)](_0x15a1c8(0xe0))[_0x15a1c8(0x155)]['add']('hide');}catch(_0x562ad1){pushException(_0x15a1c8(0x123)+_0x562ad1[_0x15a1c8(0x16c)]);}}function hideOpenButton(){const _0x5987e0=_0x262750;try{document['getElementById']('button_enable')[_0x5987e0(0x155)]['add']('hide');}catch(_0xaddbac){pushException(_0x5987e0(0xbb)+_0xaddbac[_0x5987e0(0x16c)]);}}function hideGateLayout(){const _0x5d2cbb=_0x262750;try{document[_0x5d2cbb(0x87)](_0x5d2cbb(0xcc))[_0x5d2cbb(0x155)][_0x5d2cbb(0xab)](_0x5d2cbb(0xe9)),document['getElementById'](_0x5d2cbb(0xe0))[_0x5d2cbb(0x155)]['innerHTML']='',document[_0x5d2cbb(0x87)](_0x5d2cbb(0x115))[_0x5d2cbb(0x155)]['innerHTML']='',document[_0x5d2cbb(0x87)](_0x5d2cbb(0x10b))[_0x5d2cbb(0x155)]['innerHTML']='';}catch(_0x1b3ff5){pushException(_0x5d2cbb(0x14e)+_0x1b3ff5[_0x5d2cbb(0x16c)]);}}function showOpenButton(){const _0x2bc48c=_0x262750;try{document[_0x2bc48c(0x87)](_0x2bc48c(0x108))['style'][_0x2bc48c(0x11f)]=_0x2bc48c(0x153),document[_0x2bc48c(0x87)]('button_enable')[_0x2bc48c(0x155)][_0x2bc48c(0xe6)](_0x2bc48c(0xe9));}catch(_0x284583){pushException('showOpenButton\x20'+_0x284583['message']);}}function hideAwaiting(){const _0xfbffba=_0x262750;try{scanToButtonGreenDeltaSec===0x0&&(debugLog(_0xfbffba(0x119)),scanToButtonGreenDeltaSec=(Date['now']()-screenAppearanceTime)/0x3e8),document[_0xfbffba(0x87)]('button_ble')[_0xfbffba(0x155)]['add'](_0xfbffba(0xe9));}catch(_0x229bdd){pushException(_0xfbffba(0xde)+_0x229bdd[_0xfbffba(0x16c)]);}}function showAwaiting(){const _0x21d2ea=_0x262750;try{document[_0x21d2ea(0x87)](_0x21d2ea(0x166))['classList'][_0x21d2ea(0xe6)](_0x21d2ea(0xe9));}catch(_0x4a9d2e){pushException(_0x21d2ea(0x8a)+_0x4a9d2e[_0x21d2ea(0x16c)]);}}function showSimulation(){const _0x49dfa7=_0x262750;pinaConfigParams[_0x49dfa7(0xdb)]!=undefined&&pinaConfigParams[_0x49dfa7(0xdb)]?document[_0x49dfa7(0x87)](_0x49dfa7(0x158))['classList']['remove']('hide'):document[_0x49dfa7(0x87)](_0x49dfa7(0x158))[_0x49dfa7(0x155)][_0x49dfa7(0xab)](_0x49dfa7(0xe9));}function showDevMode(){const _0x48aff7=_0x262750;pinaConfig['environment']!=undefined&&pinaConfig[_0x48aff7(0x9e)][_0x48aff7(0x11a)](_0x48aff7(0x92))?document['getElementById']('dev')[_0x48aff7(0x155)][_0x48aff7(0xe6)](_0x48aff7(0xe9)):document[_0x48aff7(0x87)](_0x48aff7(0x12b))[_0x48aff7(0x155)]['add'](_0x48aff7(0xe9));}function showGateIssues(){const _0x2825f9=_0x262750;nfcData['status']==0x0&&qrCode[_0x2825f9(0xe2)]==0x0&&document['getElementById'](_0x2825f9(0x126))[_0x2825f9(0x155)][_0x2825f9(0xab)](_0x2825f9(0xe9)),nfcData[_0x2825f9(0xe2)]==0x0&&document[_0x2825f9(0x87)]('button_nfc')[_0x2825f9(0x155)]['add'](_0x2825f9(0xe9)),qrCode['status']==0x0&&document[_0x2825f9(0x87)]('button_qr')[_0x2825f9(0x155)][_0x2825f9(0xab)](_0x2825f9(0xe9)),document[_0x2825f9(0x87)](_0x2825f9(0x114))[_0x2825f9(0x155)][_0x2825f9(0xab)](_0x2825f9(0xe9)),document['getElementById']('container')['classList'][_0x2825f9(0xe6)](_0x2825f9(0xe9)),document[_0x2825f9(0x87)](_0x2825f9(0x94))[_0x2825f9(0x155)]['remove'](_0x2825f9(0xe9)),document[_0x2825f9(0x87)](_0x2825f9(0xa0))['classList'][_0x2825f9(0xab)]('hide'),document[_0x2825f9(0x87)](_0x2825f9(0x7e))[_0x2825f9(0x155)][_0x2825f9(0xe6)](_0x2825f9(0xe9)),document[_0x2825f9(0x87)](_0x2825f9(0x14d))['classList'][_0x2825f9(0xab)](_0x2825f9(0xe9));}function flushData(){const _0x14e4e3=_0x262750;try{garageLocation={},loopData={},loopDetected=![],bleDetected=![],presentButtonMode='-1',collectDecisionData=!![],beaconHits=0x0,beaconDistanceGreaterThanRequired=!![],cancelled=![],gate='',atleastOneBeaconLessThanOneMtr=![],thresholdTimerExecuted=![],gateSelected=![],loopDetectors=[],minGateData=new Map(),maxGateData=new Map(),gateDatainitialised=![],gateloopData=new Map(),beaconsMap=new Map(),altBeaconsMap=new Map(),loopDetectorSimulation=0x0,outcome='',gateForBeacon=new Map(),decisionData={},minorId=new Map(),minDistance=new Map(),lastDistance=new Map(),prevQRMessage='',specificationType='',scanToButtonGreenDelta=Date['now'](),scanToButtonClickDelta=Date[_0x14e4e3(0xcb)](),gateDecisionDelta=Date['now'](),screenAppearanceTime=Date[_0x14e4e3(0xcb)](),scanToButtonGreenDeltaSec=0x0,gateDecisionDeltaSec=0x0,scanToButtonClickDeltaSec=0x0,loopEnabledTime=0x0,bleEnabledTime=0x0,firstBleHitTime=0x0,bookingID='',refId='',uid='',differentiationDelta=0x0,hideOpenButton(),hideGateLayout(),showAwaiting(),hideOpenButtonPedestrian(),showAwaitingPedestrian();}catch(_0x2a9074){pushException(_0x14e4e3(0xb8)+_0x2a9074[_0x14e4e3(0x16c)]);}}function validateHardwareConfig(_0x51b061){const _0x1079c8=_0x262750;try{getBeaconListResponse=JSON[_0x1079c8(0x9a)](_0x51b061),getBeaconListResponse!=undefined?initHardwareConfig():getHardwareConfiguration();}catch(_0x47aaa8){getHardwareConfiguration(),pushException(_0x1079c8(0x118)+_0x47aaa8[_0x1079c8(0x16c)]);}}function prefetchHardwareConfiguration(_0x61845c,_0x4a642f){const _0x4b171f=_0x262750;validatePinaConfig(_0x61845c),_0x4a642f!=undefined?(getBeaconListResponse=JSON[_0x4b171f(0x9a)](_0x4a642f),initHardwareConfig(),J2N_printLog(_0x4b171f(0xb4))):getHardwareConfiguration(function(){const _0x13f1af=_0x4b171f;J2N_printLog(_0x13f1af(0x165));});}function initSDKMethods(){const _0x16acda=_0x262750;if(getBeaconListResponse!=undefined&&pinaConfig[_0x16acda(0xec)][_0x16acda(0xfe)]==getBeaconListResponse['data'][_0x16acda(0x78)]){let _0x52b19a={};_0x52b19a[_0x16acda(0xbd)]=_0x16acda(0xbc),_0x52b19a[_0x16acda(0xb6)]='phpMQTT-subscriber',_0x52b19a[_0x16acda(0x122)]=pinaConfig[_0x16acda(0x9e)]==_0x16acda(0x92)?_0x16acda(0x138):_0x16acda(0xa6),_0x52b19a[_0x16acda(0xca)]=pinaConfig[_0x16acda(0x9e)]==_0x16acda(0x92)?_0x16acda(0xa2):_0x16acda(0x121),_0x52b19a[_0x16acda(0xf7)]=getBeaconListResponse['data']['loopData']['loopConfig'][_0x16acda(0x157)],loopList=getBeaconListResponse[_0x16acda(0x137)][_0x16acda(0xda)][_0x16acda(0xb1)],rangeData=new Map();if(isiOS()){_0x52b19a[_0x16acda(0xbd)]=pinaConfig[_0x16acda(0x9e)]==_0x16acda(0x92)?_0x16acda(0x117):_0x16acda(0xae),J2N_startLoopScan(JSON[_0x16acda(0x102)](_0x52b19a)),debugLog(_0x16acda(0xa4));let _0x2b77ac=beaconData[_0x16acda(0x85)][_0x16acda(0x144)],_0x3f862b=beaconData[_0x16acda(0x85)][_0x16acda(0x90)],_0x37c08f={'arrayRangeCount':_0x2b77ac,'estimoteCloudDetailsModel':_0x3f862b};J2N_startBeaconScan(JSON[_0x16acda(0x102)](_0x37c08f)),debugLog('J2N_startBeaconScan');}(pinaConfigParams[_0x16acda(0xdb)]!=undefined&&pinaConfigParams['simulationMode']||getBeaconListResponse[_0x16acda(0x137)][_0x16acda(0x95)]!=undefined&&getBeaconListResponse[_0x16acda(0x137)]['demoGarage'][_0x16acda(0x11a)]('1')===0x0)&&(initLoopData(),initBeaconData());}else getHardwareConfiguration(function(){displayWebViewAndStartSDK();});}function displayWebViewAndStartSDK(_0x11f090,_0x2fb908){const _0x4d39eb=_0x262750;try{debugLog(_0x4d39eb(0x130));if(_0x11f090!=undefined){let _0x5ca985=JSON[_0x4d39eb(0x9a)](_0x11f090);_0x5ca985[_0x4d39eb(0xec)]['zid']!=pinaConfig[_0x4d39eb(0xec)][_0x4d39eb(0xc6)]&&(getBeaconListResponse=undefined),validatePinaConfig(_0x11f090);}getBeaconListResponse!=undefined&&_0x2fb908!=undefined&&(getBeaconListResponse=JSON['parse'](_0x2fb908),initHardwareConfig());scanToButtonGreenDeltaSec=0x0,gateDecisionDeltaSec=0x0,scanToButtonClickDeltaSec=0x0,loopEnabledTime=0x0,bleEnabledTime=0x0,firstBleHitTime=0x0,debugLog(_0x4d39eb(0xe4)),showSimulation(),showDevMode();if(pinaConfig[_0x4d39eb(0x9e)]==_0x4d39eb(0x92)&&pinaConfigParams[_0x4d39eb(0xdb)]==!![]){alert('Simulation\x20mode\x20is\x20restricted\x20in\x20Production.\x20Please\x20change\x20DIVRT\x20environment\x20to\x20DEV');return;}initSDKMethods();}catch(_0x13aeb4){J2N_printLog(_0x13aeb4[_0x4d39eb(0x16c)]),pushException(_0x4d39eb(0xd0)+_0x13aeb4[_0x4d39eb(0x16c)]);}}function validatePinaConfig(_0x413f4a){const _0x362307=_0x262750;try{flushData(),pinaConfig=JSON['parse'](_0x413f4a);isiOS()?(pinaConfigParams=pinaConfig[_0x362307(0xec)],pinaSdkParams=pinaConfig[_0x362307(0x83)],pinaClientParams=pinaConfig['pinaClientParams']):(pinaConfigParams=pinaConfig['pinaConfigParams']['nameValuePairs'],pinaSdkParams=pinaConfig[_0x362307(0x83)][_0x362307(0xc5)],pinaClientParams=pinaConfig[_0x362307(0x8d)]['nameValuePairs'],pinaMiscParams=pinaConfig[_0x362307(0x112)]['nameValuePairs']);document[_0x362307(0x87)](_0x362307(0x9d))[_0x362307(0x134)]=pinaSdkParams[_0x362307(0xe5)],document[_0x362307(0x87)]('move_closer_text')[_0x362307(0xf3)][_0x362307(0x11f)]=pinaSdkParams[_0x362307(0xc2)]||_0x362307(0x159);pinaConfigParams['gateType'][_0x362307(0x11a)]('IN')===0x0?document[_0x362307(0x87)](_0x362307(0x108))[_0x362307(0x134)]=_0x362307(0x14f):document[_0x362307(0x87)]('move_closer_text')[_0x362307(0x134)]='Move\x20closer\x20to\x20the\x20gate\x20to\x20exit';showDevMode();if(pinaSdkParams['gateButtonBgColor']!=undefined){var _0x331767=document['getElementsByClassName']('proceed_btn'),_0x304605=document[_0x362307(0xc9)]('multi_gate_btn'),_0x41c5d0=document[_0x362307(0xc9)](_0x362307(0x162)),_0x1caa43=document['getElementsByClassName'](_0x362307(0x114));for(var _0x24e939=0x0;_0x24e939<_0x331767[_0x362307(0x113)];_0x24e939++){_0x331767[_0x24e939][_0x362307(0xf3)][_0x362307(0xf1)]=pinaSdkParams[_0x362307(0xc2)];}for(var _0x24e939=0x0;_0x24e939<_0x304605[_0x362307(0x113)];_0x24e939++){_0x304605[_0x24e939][_0x362307(0xf3)][_0x362307(0xf1)]=pinaSdkParams['gateButtonBgColor'];}for(var _0x24e939=0x0;_0x24e939<_0x41c5d0[_0x362307(0x113)];_0x24e939++){_0x41c5d0[_0x24e939][_0x362307(0xf3)]['background']=pinaSdkParams[_0x362307(0xc2)];}for(var _0x24e939=0x0;_0x24e939<_0x1caa43[_0x362307(0x113)];_0x24e939++){_0x41c5d0[_0x24e939][_0x362307(0xf3)][_0x362307(0xf1)]=pinaSdkParams[_0x362307(0xc2)];}document['getElementById']('move_closer_text_pedestrian')[_0x362307(0xf3)][_0x362307(0x11f)]=pinaSdkParams[_0x362307(0xc2)],document[_0x362307(0x87)]('move_closer_text')[_0x362307(0xf3)][_0x362307(0x11f)]=pinaSdkParams['gateButtonBgColor'];}pinaSdkParams[_0x362307(0x104)]!=undefined?document[_0x362307(0x87)](_0x362307(0x160))[_0x362307(0x13f)]=pinaSdkParams[_0x362307(0x104)]:document[_0x362307(0x87)](_0x362307(0x160))['src']=_0x362307(0xfc);}catch(_0x4e98fe){J2N_printLog(_0x4e98fe[_0x362307(0x16c)]),pushException(_0x362307(0x7a)+_0x4e98fe['message']);}}function validateLoopData(_0x1e7496){const _0xe2c2c5=_0x262750;try{const _0x5122a3=JSON[_0xe2c2c5(0x9a)](_0x1e7496);for(let _0x21ce61=0x0;_0x21ce61<getBeaconListResponse[_0xe2c2c5(0x137)][_0xe2c2c5(0xda)][_0xe2c2c5(0xfd)][_0xe2c2c5(0xaa)][_0xe2c2c5(0x113)];_0x21ce61++){_0x5122a3['topic'][_0xe2c2c5(0x11a)](getBeaconListResponse[_0xe2c2c5(0x137)]['loopData'][_0xe2c2c5(0xfd)][_0xe2c2c5(0xaa)][_0x21ce61][_0xe2c2c5(0x140)])===0x0&&(gateloopData[_0xe2c2c5(0x86)](getBeaconListResponse[_0xe2c2c5(0x137)][_0xe2c2c5(0xda)][_0xe2c2c5(0xfd)][_0xe2c2c5(0xaa)][_0x21ce61]['gateID'],_0x5122a3[_0xe2c2c5(0x91)]),gateDatainitialised&&getBeaconListResponse[_0xe2c2c5(0x137)][_0xe2c2c5(0xda)][_0xe2c2c5(0xfd)][_0xe2c2c5(0xaa)][_0x21ce61]['entrance_id'][_0xe2c2c5(0x11a)](entrance)===0x0&&(_0x5122a3['value']===0x1&&(loopDetected=!![],loopEnabledTime===0x0&&(loopEnabledTime=(Date[_0xe2c2c5(0xcb)]()-screenAppearanceTime)/0x3e8)),presentButtonMode['toString']()[_0xe2c2c5(0x11a)]('-1')===0x0&&!(getBeaconListResponse[_0xe2c2c5(0x137)][_0xe2c2c5(0xda)][_0xe2c2c5(0xfd)][_0xe2c2c5(0x13c)]['localeCompare']('0')===0x0)&&takeAction(undefined,undefined,undefined)),_0x5122a3[_0xe2c2c5(0xdf)]=returnDelta(),loopValues['push'](_0x5122a3));}}catch(_0x50e3c1){pushException(_0xe2c2c5(0x14b)+_0x50e3c1[_0xe2c2c5(0x16c)]);}}function validateLatLong(_0x44489b){const _0x505145=_0x262750;try{const _0x311f87=JSON['parse'](_0x44489b);currentLocation[_0x505145(0x10e)]=_0x311f87['latitude'],currentLocation[_0x505145(0x9f)]=_0x311f87['longitude'],J2N_printLog(_0x505145(0xf9)+_0x311f87[_0x505145(0x10e)]),J2N_printLog('latLong.longitude'+_0x311f87[_0x505145(0x9f)]);}catch(_0x381bc2){pushException(_0x505145(0x127)+_0x381bc2[_0x505145(0x16c)]);}}function getDistanceFromLatLonInKm(_0x1dc1f6,_0x18001f,_0x2c5967,_0x10dc0b){const _0x357917=_0x262750;try{let _0x35d90b=0x18e3,_0x57011c=deg2rad(_0x2c5967-_0x1dc1f6),_0x1f0de0=deg2rad(_0x10dc0b-_0x18001f),_0x57f11c=Math[_0x357917(0x72)](_0x57011c/0x2)*Math[_0x357917(0x72)](_0x57011c/0x2)+Math[_0x357917(0xba)](deg2rad(_0x1dc1f6))*Math['cos'](deg2rad(_0x2c5967))*Math[_0x357917(0x72)](_0x1f0de0/0x2)*Math[_0x357917(0x72)](_0x1f0de0/0x2),_0x7f941c=0x2*Math[_0x357917(0x84)](Math['sqrt'](_0x57f11c),Math['sqrt'](0x1-_0x57f11c)),_0x1ed6c4=_0x35d90b*_0x7f941c;return _0x1ed6c4;}catch(_0x59761a){pushException('getDistanceFromLatLonInKm\x20'+_0x59761a['message']);}}function deg2rad(_0x266a68){const _0x22dccd=_0x262750;try{return _0x266a68*(Math['PI']/0xb4);}catch(_0x26cbf2){pushException(_0x22dccd(0x128)+_0x26cbf2[_0x22dccd(0x16c)]);}}function validateNFC(_0x5865c9){const _0xfba31f=_0x262750;try{beaconId=_0x5865c9,techType=_0xfba31f(0x98),specificationType='2',openGate();}catch(_0x2ceab7){J2N_printLog(_0x2ceab7[_0xfba31f(0x16c)]),J2N_postOnFailure('Wrong\x20NFC\x20scanned'),pushException(_0xfba31f(0xb9)+_0x2ceab7[_0xfba31f(0x16c)]);}}function validateQR(_0x207c09){const _0x473cee=_0x262750;try{if(prevQRMessage[_0x473cee(0x11a)](_0x207c09)===0x0){}else prevQRMessage=_0x207c09,beaconId=prevQRMessage,techType='QR',specificationType='3',openGate();}catch(_0xd54ea6){J2N_printLog(_0xd54ea6[_0x473cee(0x16c)]),J2N_postOnFailure(_0x473cee(0x110)),pushException(_0x473cee(0x15a)+_0xd54ea6['message']);}}function takeAction(_0x1cb54d,_0xd33141,_0x2b1686){const _0x59bf0c=_0x262750;try{if(pinaConfigParams[_0x59bf0c(0xdb)]!=undefined&&pinaConfigParams[_0x59bf0c(0xdb)]||getBeaconListResponse['data']['demoGarage']!=undefined&&getBeaconListResponse[_0x59bf0c(0x137)][_0x59bf0c(0x95)]['localeCompare']('1')===0x0)debugLog(_0x59bf0c(0x14a)),presentButtonMode[_0x59bf0c(0x11a)]('-1')===0x0?(presentButtonMode='1',isiOS()?selectGateiOS():selectGateAndroid(),hideAwaiting(),showOpenButton(),hideGateLayout()):_0x2b1686!=undefined&&(beaconId=_0xd33141,openGate());else{if(gateDatainitialised){if(getBeaconListResponse[_0x59bf0c(0x137)]['loopData'][_0x59bf0c(0xfd)][_0x59bf0c(0x13c)][_0x59bf0c(0x11a)]('0')===0x0)presentButtonMode[_0x59bf0c(0x11a)]('-1')===0x0?(isiOS()?selectGateiOS():selectGateAndroid(),hideAwaiting(),beaconData[_0x59bf0c(0x85)][_0x59bf0c(0xef)][_0x59bf0c(0x75)][_0x59bf0c(0x113)]>0x1?(showGateLayout(),hideOpenButton()):(showOpenButton(),hideGateLayout()),presentButtonMode='1'):_0x1cb54d!=undefined&&(beaconId=_0xd33141,openGate());else try{beaconId=_0xd33141,myLaneLoop='0',otherLaneLoop='0';if(presentButtonMode['localeCompare']('-1')===0x0&&(!loopDetected||!bleDetected))return;else{presentButtonMode[_0x59bf0c(0x11a)]('-1')===0x0&&loopDetected&&bleDetected&&(isiOS()?selectGateiOS():selectGateAndroid());gateDecisionDeltaSec===0x0&&(gateDecisionDeltaSec=(Date[_0x59bf0c(0xcb)]()-screenAppearanceTime)/0x3e8);let _0x32e45e='-1',_0xc920a0='-1',_0x1b14d6='-1',_0x4f0489=0x0;for(let [_0x5363e0,_0xb0d464]of gateloopData){if(_0x4f0489===0x0)_0x32e45e=''+_0xb0d464,_0x4f0489++;else{if(_0x4f0489===0x1)_0xc920a0=''+_0xb0d464,_0x4f0489++;else _0x4f0489===0x2&&(_0x1b14d6=''+_0xb0d464,_0x4f0489++);}}let _0xd2089a=_0x1cb54d!=undefined?_0x1cb54d:lane;switch(_0xd2089a){case 0x1:if(_0x32e45e['localeCompare']('1')===0x0)myLaneLoop=0x1;if(_0xc920a0[_0x59bf0c(0x11a)]('1')===0x0||_0x1b14d6[_0x59bf0c(0x11a)]('1')===0x0)otherLaneLoop=0x1;break;case 0x2:if(_0xc920a0['localeCompare']('1')===0x0)myLaneLoop=0x1;if(_0x32e45e[_0x59bf0c(0x11a)]('1')===0x0||_0x1b14d6[_0x59bf0c(0x11a)]('1')===0x0)otherLaneLoop=0x1;break;case 0x3:if(_0x1b14d6[_0x59bf0c(0x11a)]('1')===0x0)myLaneLoop=0x1;if(_0x32e45e[_0x59bf0c(0x11a)]('1')===0x0||_0xc920a0[_0x59bf0c(0x11a)]('1')===0x0)otherLaneLoop=0x1;break;default:break;}let _0x4f48a9;if(loopList!=null&&loopList['length']>0x0)for(let _0x1d739a=0x0;_0x1d739a<loopList[_0x59bf0c(0x113)];_0x1d739a++){if((loopList[_0x1d739a]['oneBeacon'][_0x59bf0c(0x11a)]('X')===0x0||loopList[_0x1d739a][_0x59bf0c(0x148)][_0x59bf0c(0x11a)](oneBeacon)===0x0)&&(loopList[_0x1d739a][_0x59bf0c(0x97)]['localeCompare']('X')===0x0||loopList[_0x1d739a][_0x59bf0c(0x97)][_0x59bf0c(0x11a)](otherBeacon)===0x0)&&(loopList[_0x1d739a]['myLaneLoop'][_0x59bf0c(0x11a)]('X')===0x0||loopList[_0x1d739a][_0x59bf0c(0x163)][_0x59bf0c(0x11a)](myLaneLoop)===0x0)&&(loopList[_0x1d739a]['otherLaneLoop'][_0x59bf0c(0x11a)]('X')===0x0||loopList[_0x1d739a][_0x59bf0c(0x139)][_0x59bf0c(0x11a)](otherLaneLoop)===0x0)&&loopList[_0x1d739a][_0x59bf0c(0xfa)][_0x59bf0c(0x11a)](presentButtonMode)===0x0){_0x4f48a9=loopList[_0x1d739a];if(outcome===''||_0x2b1686!=undefined){if(_0x2b1686!=undefined)outcome=outcome+_0x4f48a9['outcome']['replace']('#',_0x2b1686);else gate!=undefined&&(outcome=outcome+_0x4f48a9['outcome'][_0x59bf0c(0xcf)]('#',gate));}switch(_0x4f48a9[_0x59bf0c(0x105)]){case'-1':presentButtonMode=_0x4f48a9[_0x59bf0c(0x105)];break;case'0':_0x2b1686!=undefined&&openGate();break;case'1':buttonMode=_0x59bf0c(0x99),hideAwaiting(),showOpenButton(),hideGateLayout(),presentButtonMode=_0x4f48a9[_0x59bf0c(0x105)];break;case'2':buttonMode=_0x59bf0c(0x10d),hideAwaiting(),showGateLayout(),hideOpenButton(),presentButtonMode=_0x4f48a9[_0x59bf0c(0x105)];break;case'3':document['getElementById']('main_container')[_0x59bf0c(0x155)][_0x59bf0c(0xab)](_0x59bf0c(0xe9)),document[_0x59bf0c(0x87)]('alert')[_0x59bf0c(0x155)][_0x59bf0c(0xe6)](_0x59bf0c(0xe9));break;default:break;}return;}}}}catch(_0x18c310){J2N_printLog(_0x18c310[_0x59bf0c(0x16c)]),pushException(_0x59bf0c(0xdd)+_0x18c310[_0x59bf0c(0x16c)]);}}}}catch(_0x514ea8){pushException('takeAction\x20'+_0x514ea8[_0x59bf0c(0x16c)]);}}function showProgress(_0x24cbe6){const _0x3297d9=_0x262750;try{var _0x4e09d9=document[_0x3297d9(0x87)]('loader');_0x24cbe6?_0x4e09d9[_0x3297d9(0x155)][_0x3297d9(0xe6)](_0x3297d9(0xe9)):_0x4e09d9[_0x3297d9(0x155)]['add'](_0x3297d9(0xe9));}catch(_0x2a247c){pushException(_0x3297d9(0xd6)+_0x2a247c[_0x3297d9(0x16c)]);}}function getHardwareConfiguration(_0x4dbe4a){const _0x422e9b=_0x262750;try{const _0x1a98ef=url_base[_0x422e9b(0xc7)]+url_hardwareConfig;showProgress(!![]),debugLog(_0x422e9b(0xb2)),fetch(_0x1a98ef,{'method':'POST','body':JSON[_0x422e9b(0x102)]({'pinaConfigParams':pinaConfigParams,'pinaJSParams':pinaConfig[_0x422e9b(0xd9)]}),'headers':{'Accept':_0x422e9b(0xed),'Content-Type':'application/json'}})['then'](_0x1136d9=>_0x1136d9['json']())[_0x422e9b(0xf8)](_0x92d06a=>{const _0x5939e3=_0x422e9b;showProgress(![]);let _0x506815=!!_0x92d06a['status']||![],_0x17827d=_0x92d06a[_0x5939e3(0x16c)]||'';_0x506815==!![]?(getBeaconListResponse=_0x92d06a,J2N_forceJSupdate(JSON['stringify'](_0x92d06a)),initHardwareConfig(),_0x4dbe4a()):debugLog(_0x5939e3(0xe1),_0x17827d);})['catch'](_0x4c15c2=>{const _0x499edc=_0x422e9b;J2N_printLog(_0x4c15c2['message']),showProgress(![]),pushException(_0x499edc(0xf2)+_0x4c15c2[_0x499edc(0x16c)]);});}catch(_0x3766ff){showProgress(![]),pushException(_0x422e9b(0x124)+_0x3766ff[_0x422e9b(0x16c)]);}}function initHardwareConfig(){const _0x1b8048=_0x262750;try{beaconData=getBeaconListResponse[_0x1b8048(0x137)][_0x1b8048(0x146)],nfcData=getBeaconListResponse[_0x1b8048(0x137)][_0x1b8048(0x10c)],qrCode=getBeaconListResponse[_0x1b8048(0x137)][_0x1b8048(0xa1)];getBeaconListResponse[_0x1b8048(0x137)][_0x1b8048(0xa7)]!=null&&getBeaconListResponse[_0x1b8048(0x137)][_0x1b8048(0xa7)]['localeCompare']('1')===0x0?document[_0x1b8048(0x87)](_0x1b8048(0x167))[_0x1b8048(0x155)][_0x1b8048(0xe6)](_0x1b8048(0x15e)):document[_0x1b8048(0x87)](_0x1b8048(0x167))[_0x1b8048(0x155)][_0x1b8048(0xab)]('invisible');if(isiOS()){let _0x458974=beaconData[_0x1b8048(0x85)][_0x1b8048(0x144)];for(let _0xfaec6c=0x0;_0xfaec6c<_0x458974[_0x1b8048(0x113)];_0xfaec6c++){rangeWeightData['set'](_0x458974[_0xfaec6c][_0x1b8048(0x154)],_0x458974[_0xfaec6c][_0x1b8048(0xd3)]);}}autoSelectMode=beaconData['beaconConfig'][_0x1b8048(0xc1)],autoSelectMode[_0x1b8048(0x120)]=beaconData[_0x1b8048(0x85)]['minimumBeaconThreshold'],autoSelectMode['minimumSingleButtonThreshold']=beaconData['beaconConfig'][_0x1b8048(0x120)],maxDistance=parseInt(qrCode[_0x1b8048(0x15b)][_0x1b8048(0xf0)]),garageLocation[_0x1b8048(0x77)]='Point\x20B',garageLocation[_0x1b8048(0x10e)]=parseFloat(getBeaconListResponse[_0x1b8048(0x137)][_0x1b8048(0x76)]),garageLocation['longitude']=parseFloat(getBeaconListResponse[_0x1b8048(0x137)]['garageLongitude']),loopDetectors=getBeaconListResponse[_0x1b8048(0x137)][_0x1b8048(0xda)][_0x1b8048(0x89)];for(let _0x300b38=0x0;_0x300b38<beaconData[_0x1b8048(0x85)]['lanesBeaconsMap'][_0x1b8048(0x75)][_0x1b8048(0x113)];_0x300b38++){gateloopData[_0x1b8048(0x86)](beaconData[_0x1b8048(0x85)][_0x1b8048(0xef)]['lanesToBeaconList'][_0x300b38][_0x1b8048(0x80)],0x0);}let _0x66180d={};_0x66180d[_0x1b8048(0xbd)]=_0x1b8048(0xbc),_0x66180d[_0x1b8048(0xb6)]=_0x1b8048(0x8b),_0x66180d[_0x1b8048(0x122)]='divrt-mqtt-dev',_0x66180d[_0x1b8048(0xca)]=_0x1b8048(0xa2),_0x66180d[_0x1b8048(0xf7)]=getBeaconListResponse[_0x1b8048(0x137)][_0x1b8048(0xda)]['loopConfig']['mqtt_topic'],loopList=getBeaconListResponse[_0x1b8048(0x137)][_0x1b8048(0xda)]['loopsList'],showGateIssues();}catch(_0x314adc){J2N_printLog(_0x314adc[_0x1b8048(0x16c)]),pushException(_0x1b8048(0x7b)+_0x314adc[_0x1b8048(0x16c)]);}}function openGate(){const _0x74391f=_0x262750;if(pinaConfig[_0x74391f(0x9e)]==_0x74391f(0x92)&&pinaConfigParams['simulationMode']==!![]){alert(_0x74391f(0x81));return;}if(window[_0x74391f(0x10f)][_0x74391f(0x12f)]==![]){alert(_0x74391f(0x149));return;}try{J2N_suspendClick();const _0x50101d=url_base[_0x74391f(0xc7)]+url_openGate;showProgress(!![]),debugLog(_0x74391f(0x168)),fetch(_0x50101d,{'method':'POST','body':JSON[_0x74391f(0x102)]({'beaconId':beaconId,'specification_type':specificationType,'pinaConfigParams':pinaConfigParams,'pinaClientParams':pinaClientParams,'pinaJSParams':pinaConfig[_0x74391f(0xd9)]}),'headers':{'Accept':_0x74391f(0xed),'Content-Type':_0x74391f(0xed)}})[_0x74391f(0xf8)](_0x5f1d46=>{const _0xfb1317=_0x74391f;showProgress(![]),_0x5f1d46[_0xfb1317(0x13b)]()[_0xfb1317(0xf8)](_0x267dfc=>{const _0x1130ea=_0xfb1317;try{_0x267dfc[_0x1130ea(0xe2)]?(showAwaiting(),hideGateLayout(),hideOpenButton(),document[_0x1130ea(0x87)]('welcome_text')[_0x1130ea(0x134)]='',document['getElementById'](_0x1130ea(0x108))[_0x1130ea(0x134)]='Move\x20closer\x20to\x20the\x20gate\x20to\x20enter',document[_0x1130ea(0x87)](_0x1130ea(0xf4))[_0x1130ea(0x155)][_0x1130ea(0xab)]('hide'),document['getElementById'](_0x1130ea(0x114))['classList'][_0x1130ea(0xe6)](_0x1130ea(0xe9)),bookingID=_0x267dfc['refno'],refId=_0x267dfc[_0x1130ea(0x100)],uid=_0x267dfc[_0x1130ea(0x135)],pushLogs(),J2N_postOnSuccess(JSON[_0x1130ea(0x102)](_0x267dfc))):(J2N_printLog(JSON[_0x1130ea(0x102)](_0x267dfc)),J2N_postOnFailure(JSON[_0x1130ea(0x102)](_0x267dfc)),pushLogs());}catch(_0x15bb0f){showProgress(![]),debugLog(_0x1130ea(0x141)+_0x15bb0f['message']),J2N_printLog('Open\x20Gate\x20failure'+_0x15bb0f[_0x1130ea(0x16c)]),J2N_postOnFailure(_0x1130ea(0x7c)),pushException('openGate\x20response\x20inner'+_0x15bb0f['message']),pushLogs();}});})[_0x74391f(0x131)](_0x4a130e=>{const _0x3dc489=_0x74391f;showProgress(![]),debugLog('openGateExcep\x20'+_0x4a130e[_0x3dc489(0x16c)]),J2N_printLog(_0x4a130e[_0x3dc489(0x16c)]),J2N_postOnFailure(_0x3dc489(0x169)),pushException(_0x3dc489(0x156)+_0x4a130e['message']);});}catch(_0x4938bd){showProgress(![]),debugLog(_0x74391f(0x141)+_0x4938bd[_0x74391f(0x16c)]),J2N_postOnFailure(_0x74391f(0x169)),pushException('openGate\x20'+_0x4938bd[_0x74391f(0x16c)]);}}function pushLogs(){const _0x108ec0=_0x262750;try{let _0x2e5f79=[];for(let [_0x5e7571,_0x13cd6e]of minorId){let _0x4cfd1d={};_0x4cfd1d[_0x108ec0(0x11d)]=_0x5e7571,_0x4cfd1d[_0x108ec0(0x129)]=lastDistance[_0x108ec0(0xe3)](_0x5e7571),_0x4cfd1d[_0x108ec0(0x145)]=minDistance[_0x108ec0(0xe3)](_0x5e7571),_0x4cfd1d[_0x108ec0(0x106)]=firstDistance['get'](_0x5e7571),_0x4cfd1d[_0x108ec0(0xe8)]=firstTime['get'](_0x5e7571),_0x2e5f79['push'](_0x4cfd1d);}isiOS()?decisionData['beaconData']=Object[_0x108ec0(0xf5)](weightDataDict):decisionData[_0x108ec0(0x146)]=_0x2e5f79;decisionData[_0x108ec0(0xda)]=loopValues,decisionData[_0x108ec0(0xd4)]=beaconId,decisionData['differentiationDelta']=differentiationDelta,decisionData[_0x108ec0(0x8e)]=scanToButtonGreenDeltaSec,decisionData[_0x108ec0(0x11c)]=scanToButtonClickDeltaSec,decisionData[_0x108ec0(0x93)]=gateDecisionDeltaSec,decisionData['simulation_mode']=pinaConfigParams[_0x108ec0(0xdb)],decisionData[_0x108ec0(0x133)]=buttonMode,decisionData[_0x108ec0(0xa3)]=logArray,(decisionData[_0x108ec0(0x73)]=proximityDataArray,decisionData[_0x108ec0(0x150)]=outcome),decisionData[_0x108ec0(0x96)]=bookingID,decisionData[_0x108ec0(0x132)]=refId,decisionData[_0x108ec0(0x135)]=uid,decisionData[_0x108ec0(0xfe)]=pinaConfigParams[_0x108ec0(0xfe)],decisionData[_0x108ec0(0x116)]=pinaConfigParams['ostype'],decisionData[_0x108ec0(0xc6)]=pinaConfigParams[_0x108ec0(0xc6)],decisionData[_0x108ec0(0x15f)]=pinaConfigParams[_0x108ec0(0x15f)],decisionData[_0x108ec0(0x16e)]=parseJwt(pinaClientParams[_0x108ec0(0xee)]),decisionData[_0x108ec0(0xbf)]=techType,decisionData['firstBleHitTime']=firstBleHitTime,decisionData[_0x108ec0(0x88)]=bleEnabledTime,decisionData['loopEnabledTime']=loopEnabledTime,decisionData['jsversion']=pinaConfig[_0x108ec0(0xd9)][_0x108ec0(0x152)],decisionData[_0x108ec0(0xad)]=pinaConfigParams[_0x108ec0(0xad)];const _0xb2e0dd=url_base[_0x108ec0(0xc7)]+url_decisionInfo;logger(),fetch(_0xb2e0dd,{'method':_0x108ec0(0xaf),'body':JSON[_0x108ec0(0x102)](decisionData),'headers':{'Accept':_0x108ec0(0xed),'Content-Type':_0x108ec0(0xed)}})[_0x108ec0(0xf8)](_0x3636db=>{})[_0x108ec0(0x131)](_0xffe647=>{const _0x4e31a8=_0x108ec0;pushException(_0x4e31a8(0x7f)+_0xffe647[_0x4e31a8(0x16c)]);});}catch(_0x38af88){pushException(_0x108ec0(0xc3)+_0x38af88['message']);}}function _0x4f16(_0xbe72e4,_0x45b6f3){const _0x2c79f8=_0x2c79();return _0x4f16=function(_0x4f167c,_0x5c2335){_0x4f167c=_0x4f167c-0x71;let _0xf7e860=_0x2c79f8[_0x4f167c];return _0xf7e860;},_0x4f16(_0xbe72e4,_0x45b6f3);}function startCountDownTimer(_0x195e27){const _0x29b0ed=_0x262750;try{_0x195e27?setTimeout(function(){const _0x2f710a=_0x4f16;bleEnabledTime===0x0&&(bleEnabledTime=(Date[_0x2f710a(0xcb)]()-screenAppearanceTime)/0x3e8),bleDetected=!![],thresholdTimerExecuted=!![],takeAction(undefined,undefined,undefined),debugLog(_0x2f710a(0x8c));},parseFloat(autoSelectMode[_0x29b0ed(0x16b)])*0x3e8||0xbb8):thresholdTimerExecuted&&takeAction(undefined,undefined,undefined);}catch(_0xec86b7){pushException(_0x29b0ed(0xdc)+_0xec86b7[_0x29b0ed(0x16c)]);}}function pushException(_0x55b06e){const _0x1f6c5f=_0x262750;debugLog('Exception'+_0x55b06e),fetch(loggerURL[_0x1f6c5f(0xc7)],{'method':_0x1f6c5f(0xaf),'body':JSON[_0x1f6c5f(0x102)]({'exception':_0x55b06e,'prjId':0x1,'srcId':0x4,'email':parseJwt(pinaClientParams[_0x1f6c5f(0xee)]),'uid':parseInt(pinaConfig[_0x1f6c5f(0xec)][_0x1f6c5f(0x135)])||-0x1}),'headers':{'Accept':_0x1f6c5f(0xed),'Content-Type':_0x1f6c5f(0xed)}})[_0x1f6c5f(0xf8)](_0x5d9cec=>{});}function logger(){const _0x3edab5=_0x262750;fetch(loggerURL['getURL'],{'method':_0x3edab5(0xaf),'body':JSON['stringify']({'decisionData':decisionData,'prjId':0x1,'srcId':0x4,'refId':refId,'email':parseJwt(pinaClientParams[_0x3edab5(0xee)]),'uid':parseInt(pinaConfig['pinaConfigParams'][_0x3edab5(0x135)])||-0x1}),'headers':{'Accept':'application/json','Content-Type':_0x3edab5(0xed)}})[_0x3edab5(0xf8)](_0x1129bc=>{});}function initPinaModel(){const _0x24cdc0=_0x262750;try{pinaConfigParams={},pinaConfigParams['zid']='62276',pinaConfigParams[_0x24cdc0(0xfe)]='IN',pinaConfigParams[_0x24cdc0(0xd7)]=_0x24cdc0(0xa5),pinaConfigParams[_0x24cdc0(0x116)]=_0x24cdc0(0xb0),pinaConfigParams[_0x24cdc0(0x15f)]=_0x24cdc0(0x103),pinaSdkParams={},pinaSdkParams[_0x24cdc0(0xe5)]=_0x24cdc0(0xea),pinaClientParams={},pinaMiscParams={},decisionData[_0x24cdc0(0x96)]=pinaConfigParams[_0x24cdc0(0x10a)],decisionData[_0x24cdc0(0x132)]=pinaConfigParams[_0x24cdc0(0x10a)],decisionData[_0x24cdc0(0xfe)]=pinaConfigParams['gateType'],decisionData[_0x24cdc0(0x11e)]=pinaConfigParams[_0x24cdc0(0x116)],decisionData[_0x24cdc0(0x158)]=pinaConfigParams[_0x24cdc0(0xdb)],decisionData[_0x24cdc0(0xc6)]=pinaConfigParams[_0x24cdc0(0xc6)],decisionData[_0x24cdc0(0x135)]=pinaConfigParams[_0x24cdc0(0x15f)],document[_0x24cdc0(0x87)](_0x24cdc0(0x9d))[_0x24cdc0(0x134)]=pinaSdkParams[_0x24cdc0(0xe5)],scanToButtonGreenDelta=Date['now'](),scanToButtonClickDelta=Date[_0x24cdc0(0xcb)](),gateDecisionDelta=Date[_0x24cdc0(0xcb)](),getHardwareConfig(undefined);}catch(_0x288714){J2N_printLog(_0x288714[_0x24cdc0(0x16c)]);}}function initBeaconData(){const _0x48f475=_0x262750;try{setTimeout(function(){const _0x597fb2=_0x4f16;hideAwaiting(),showOpenButton(),hideGateLayout(),presentButtonMode='1',gate=beaconData[_0x597fb2(0x85)][_0x597fb2(0xef)][_0x597fb2(0x75)][0x0][_0x597fb2(0x80)];for(let _0x32287b=0x0;_0x32287b<beaconData[_0x597fb2(0xb5)][_0x597fb2(0x113)];_0x32287b++){gateForBeacon[_0x597fb2(0x86)](beaconData['beaconList'][_0x32287b][_0x597fb2(0x80)],beaconData['beaconList'][_0x32287b][_0x597fb2(0x111)]);}},0xbb8);}catch(_0x1ce124){J2N_printLog(_0x1ce124[_0x48f475(0x16c)]);}}function initLoopData(){}function initNFC(){const _0x4b3d99=_0x262750;try{validateNFC('divrt://5350504C-5553-434F-5250-4F524154494F/12/121');}catch(_0x47ffa5){J2N_printLog(_0x47ffa5[_0x4b3d99(0x16c)]);}}function initQR(){const _0x4be7b7=_0x262750;try{validateQR(_0x4be7b7(0xd8));}catch(_0x3fe79c){J2N_printLog(_0x3fe79c[_0x4be7b7(0x16c)]);}}function baseParametersProximity(){const _0x567783=_0x262750;return decisionData[_0x567783(0x146)]=Object[_0x567783(0xf5)](weightDataDict),decisionData[_0x567783(0xda)]=loopValues,decisionData[_0x567783(0xd4)]=beaconId,decisionData[_0x567783(0x14c)]=differentiationDelta,decisionData[_0x567783(0x8e)]=scanToButtonGreenDeltaSec,decisionData[_0x567783(0x11c)]=scanToButtonClickDeltaSec,decisionData[_0x567783(0x93)]=gateDecisionDeltaSec,decisionData[_0x567783(0xa9)]=pinaConfigParams[_0x567783(0xdb)],decisionData[_0x567783(0x133)]=buttonMode,decisionData[_0x567783(0xa3)]=logArray,(decisionData[_0x567783(0x73)]=proximityDataArray,decisionData['outcome']=outcome),decisionData[_0x567783(0x96)]=bookingID,decisionData['refId']=refId,decisionData[_0x567783(0x135)]=uid,decisionData[_0x567783(0xfe)]=pinaConfigParams[_0x567783(0xfe)],decisionData[_0x567783(0x116)]=pinaConfigParams['ostype'],decisionData[_0x567783(0xc6)]=pinaConfigParams['zid'],decisionData['uniqueID']=pinaConfigParams[_0x567783(0x15f)],decisionData[_0x567783(0x16e)]=parseJwt(pinaClientParams[_0x567783(0xee)]),decisionData[_0x567783(0xbf)]=techType,decisionData[_0x567783(0xff)]=firstBleHitTime,decisionData[_0x567783(0x88)]=bleEnabledTime,decisionData['loopEnabledTime']=loopEnabledTime,decisionData[_0x567783(0x12c)]=pinaConfig['pinaJSParams'][_0x567783(0x152)],decisionData[_0x567783(0xad)]=pinaConfigParams[_0x567783(0xad)],decisionData;}function debugLog(_0x555e24,_0x3fe81a){const _0xa00eea=_0x262750;debugCount+=0x1;let _0x3ba78c=Date[_0xa00eea(0xcb)]()/0x3e8;if(debugCount==0x1){logStartTime=_0x3ba78c;const _0xaaf030='Start\x20time\x20'+new Date()['toUTCString']();logArray[_0xa00eea(0x13a)](_0xaaf030);}const _0x133470=debugCount+'\x20-\x20'+_0x555e24+'\x20-\x20'+parseInt(_0x3ba78c-logStartTime);logArray[_0xa00eea(0x13a)](_0x133470);}function returnDelta(){const _0x42bc79=_0x262750;let _0x5edf86=Date[_0x42bc79(0xcb)]()/0x3e8;logStartTime==0x0&&(logStartTime=_0x5edf86);let _0x1d0b70=parseInt(_0x5edf86-logStartTime);return _0x1d0b70;}function parseJwt(_0x590733){const _0x341334=_0x262750;try{return JSON[_0x341334(0x9a)](atob(_0x590733[_0x341334(0x16a)]('.')[0x1]))[_0x341334(0x16e)];}catch(_0x4b5045){return'na';}};function initGateData(_0x45a35e){const _0x43a4ce=_0x262750;try{entrance=_0x45a35e;let _0x5a105f=0x0,_0x1eb672=[];for(let _0x4b7665=0x0;_0x4b7665<beaconData[_0x43a4ce(0x85)][_0x43a4ce(0xef)][_0x43a4ce(0x75)]['length'];_0x4b7665++){beaconData[_0x43a4ce(0x85)]['lanesBeaconsMap'][_0x43a4ce(0x75)][_0x4b7665][_0x43a4ce(0x164)][_0x43a4ce(0x11a)](_0x45a35e)===0x0?(_0x1eb672[_0x5a105f]=beaconData[_0x43a4ce(0x85)][_0x43a4ce(0xef)]['lanesToBeaconList'][_0x4b7665],_0x5a105f++):gateloopData[_0x43a4ce(0xc4)](beaconData[_0x43a4ce(0x85)][_0x43a4ce(0xef)]['lanesToBeaconList'][_0x4b7665]['gateID']);}beaconData[_0x43a4ce(0x85)][_0x43a4ce(0xef)][_0x43a4ce(0x75)]=_0x1eb672;beaconData[_0x43a4ce(0x85)][_0x43a4ce(0xef)]['lanesToBeaconList'][_0x43a4ce(0x113)]==0x1?loopList=getBeaconListResponse[_0x43a4ce(0x137)]['loopData'][_0x43a4ce(0xb7)]:loopList=getBeaconListResponse['data'][_0x43a4ce(0xda)][_0x43a4ce(0x71)];for(let _0x304e78=0x0;_0x304e78<beaconData[_0x43a4ce(0x85)][_0x43a4ce(0xef)][_0x43a4ce(0x75)][_0x43a4ce(0x113)];_0x304e78++){var _0x9824a9='';for(var _0x400045=0x0;_0x400045<beaconData['beaconConfig'][_0x43a4ce(0xef)]['lanesToBeaconList'][_0x304e78][_0x43a4ce(0x101)]['length'];_0x400045++){_0x9824a9=_0x9824a9+'*'+beaconData['beaconConfig']['lanesBeaconsMap'][_0x43a4ce(0x75)][_0x304e78][_0x43a4ce(0x101)][_0x400045];}minGateData[_0x43a4ce(0x86)](_0x9824a9,[beaconData[_0x43a4ce(0x85)]['lanesBeaconsMap']['lanesToBeaconList'][_0x304e78][_0x43a4ce(0x80)],0xa]),maxGateData['set'](_0x9824a9,[beaconData[_0x43a4ce(0x85)][_0x43a4ce(0xef)][_0x43a4ce(0x75)][_0x304e78][_0x43a4ce(0x80)],0x0]);}document[_0x43a4ce(0x87)]('left_btn')[_0x43a4ce(0x134)]=beaconData[_0x43a4ce(0x85)][_0x43a4ce(0xef)]['lanesToBeaconList'][0x0]['name'];beaconData[_0x43a4ce(0x85)][_0x43a4ce(0xef)][_0x43a4ce(0x75)]['length']>0x1&&(document['getElementById'](_0x43a4ce(0x10b))['innerHTML']=beaconData[_0x43a4ce(0x85)][_0x43a4ce(0xef)][_0x43a4ce(0x75)][0x1][_0x43a4ce(0x77)]);beaconData['beaconConfig']['lanesBeaconsMap'][_0x43a4ce(0x75)][_0x43a4ce(0x113)]>0x2?document[_0x43a4ce(0x87)](_0x43a4ce(0x115))[_0x43a4ce(0x134)]=beaconData[_0x43a4ce(0x85)][_0x43a4ce(0xef)][_0x43a4ce(0x75)][0x2][_0x43a4ce(0x77)]:document['getElementById'](_0x43a4ce(0x115))[_0x43a4ce(0x134)]='';gateDatainitialised=!![];for(let [_0x83398f,_0x4b8398]of gateloopData){_0x4b8398===0x1&&(loopDetected=!![],loopEnabledTime===0x0&&(loopEnabledTime=(Date[_0x43a4ce(0xcb)]()-screenAppearanceTime)/0x3e8));}}catch(_0x213a12){pushException(_0x43a4ce(0x109)+_0x213a12[_0x43a4ce(0x16c)]);}}
